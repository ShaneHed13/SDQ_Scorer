<!DOCTYPE html>
<html lang="en">

<head>
  <title>Individual Student Records</title>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="/styles/styles.css">
</head>

<body>

  <a href="/home">Return to Homepage</a>
  <div class="center"><img src="/images/sdqLogo.png" alt="sdqLogo"></div>
  <h1>Individual Student Records</h1>

  <label for="child">Child's Name: </label>
  <input type="text" id="child" name="child">
  <button type="submit" onclick="getChildRecords()">Submit</button>

  <table>
    <tr>
      <th>Child</th>
      <th>Total</th>
      <th>Emotional Problems</th>
      <th>Conduct Problems</th>
      <th>Hyperactivity Problems</th>
      <th>Peer Problems</th>
      <th>Prosocial Behavior</th>
      <th>Impact Score</th>
      <th>Expiration Date</th>
      <th>Completed By</th>
      <th>Role</th>
    </tr>

    <% completedSDQ.forEach(function(r) { %>
      <tr>
        <td>
          <%= r.child %>
        </td>
        <td>
          <%= r.total %>
        </td>
        <td>
          <%= r.emotional %>
        </td>
        <td>
          <%= r.conduct %>
        </td>
        <td>
          <%= r.hyperactivity %>
        </td>
        <td>
          <%= r.peer %>
        </td>
        <td>
          <%= r.prosocial %>
        </td>
        <td>
          <%= r.impact %>
        </td>
        <td>
          <%= r.expires.toDateString() %>
        </td>
        <td>
          <%= r.completedby %>
        </td>
        <td>
          <%= r.role %>
        </td>
      </tr>
      <% }); %>

  </table>

  <script>

    function getChildRecords() {
      // Ensure case safety
      let childName = child.value;
      window.location.href = '/student-records/' + childName;
    }

  </script>

</body>

</html>